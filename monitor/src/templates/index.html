<!doctype html>
<html lang="en">
    <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body class="container-fluid">
    <div class="row">
      <div id="main1" class="col-sm" style="width:100%;height:500px;"></div> 
      <div id="main2" class="col-sm" style="width:100%;height:500px;"></div> 
      <div id="main3" class="col-sm" style="width:100%;height:500px;"></div> 
      <div id="main4" class="col-sm" style="width:100%;height:500px;"></div> 
    </div>
    <script src="https://cdn.jsdelivr.net/npm/echarts@4.9.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <script type="text/javascript">
        var myChart1 = echarts.init(document.getElementById('main1'),'light');
        // 指定图表的配置项和数据
        var option = {
            title: {
            text: 'ECharts 入门示例'
            },
            tooltip: {},
            legend: {
            data:['销量']
            },
            xAxis: {
            data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
            },
            yAxis: {},
            series: [{
            name: '销量',
            type: 'bar',
            data: [5, 20, 36, 10, 10, 20]
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart1.setOption(option); 

        var myChart2 = echarts.init(document.getElementById('main2'),'light');
        
        var data2 = [];
        var now = +new Date(1997,9,3);
        var value2 = Math.random() * 10000;
        
        function randomData(){
            now = new Date(+now + oneDay);
            value = value + Math.random() * 21 - 10;
            return {
                name: now.toString(),
                value:[
                    now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),
                    Math.round(value)
                ]
            }
        }
        for (var i = 0; i < 1000; i++) {
            data2.push(randomData());
        }

        option2 = {
            title: {
                text:''
            }
        }

        myChart2.setOption(option); 

        var myChart3 = echarts.init(document.getElementById('main3'),'light');
        var myChart4 = echarts.init(document.getElementById('main4'),'light');

        myChart3.setOption(option); 
        myChart4.setOption(option); 
        var oneDay = 24 * 3600 * 1000;
        var date = [];
                
        var data = [Math.random() * 150];
        var now = new Date();
        
        
        for (var i = 1; i < 500; i++) {
            addData();
        }


        function addData(shift) {
            now = [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/');
            date.push(now);
            data.push((Math.random() - 0.4) * 10 + data[data.length - 1]);

            if (shift) {
            date.shift();
            data.shift();
            }

            now = new Date(+new Date(now) + oneDay);
        }

        setInterval(function () {
            addData(true);
            myChart1.setOption({
            xAxis: {
                data: date
            },
            series: [{
                name:'成交',
                data: data
            }]
            });
        }, 500);

        window.addEventListener("resize", function () {
            myChart1.resize();
            myChart2.resize();
            myChart3.resize();
            myChart4.resize();
            });
    </script>
  </body>
</html>

