<!doctype html>
<html lang="en">
    <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body class="container-fluid">
    <div class="row">
      <div id="main1" class="col-sm" style="width:100%;height:500px;"></div> 
      <div id="main2" class="col-sm" style="width:100%;height:500px;"></div> 
      <div id="main4" class="col-sm" style="width:100%;height:500px;"></div> 
    </div>
    <div class="row">
      <div id="main3" class="col-sm" style="width:100%;height:500px;"></div> 
      <div id="main5" class="col-sm" style="width:100%;height:500px;"></div> 
      <div id="main6" class="col-sm" style="width:100%;height:500px;"></div> 
      <div id="main7" class="col-sm" style="width:100%;height:500px;"></div> 
    </div>
    <div class="row">
      <div id="main8" class="col-sm" style="width:100%;height:500px;"></div> 
    </div>
    <script src="https://cdn.jsdelivr.net/npm/echarts@4.9.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script> 
    <!--
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <script type="text/javascript">

        var myChart1 = echarts.init(document.getElementById('main1'),'light');
        // 指定图表的配置项和数据
        var option = {
            title: {
            text: 'ECharts 入门示例'
            },
            tooltip: {},
            legend: {
            data:['销量']
            },
            xAxis: {
            data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
            },
            yAxis: {},
            series: [{
            name: '销量',
            type: 'bar',
            data: [5, 20, 36, 10, 10, 20]
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart1.setOption(option); 

        var myChart2 = echarts.init(document.getElementById('main2'),'light');
        
        
        function randomData(){
            now = new Date(+now + oneDay);
            value2 = value2 + Math.random() * 21 - 10;
            return {
                name: now.toString(),
                value:[
                    [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),
                    Math.round(value2)
                ]
            }
        }

        var oneDay = 24 * 3600 * 1000;
        var data2 = [];
        var now = +new Date(1997,9,3);
        var value2 = Math.random() * 10000;

        for (var i = 0; i < 1000; i++) {
            data2.push(randomData());
        }

        data2 = [
                {
                        name:'1991-1-1',
                        value:[
                                '1991-1-1',
                                200
                        ]
                },
                { 
                        name:'1991-1-2',
                        value:[ 
                                '1991-1-2',
                                200
                        ]
                }
        ];
        option3 = {
                grid: [
                        {top: 40, bottom: '58%'},
                        {top: '58%', bottom: 40},
                ],
                xAxis: [
                        {type: 'category', gridIndex:0},
                        {type: 'category', gridIndex:1},
                ],
                yAxis: [
                        {type: 'value', gridIndex:0},
                        {type: 'value', gridIndex:1},
                ],
                series:[{
                        type: 'line',
                        data: [[0,44],[1, 51], [2,32]],
                        xAxisIndex: 0,
                        yAxisIndex: 0
                },{
                        type: 'bar',
                        data: [[0,44],[1, 51], [2,32]],
                        xAxisIndex: 1,
                        yAxisIndex: 1
                }]
        };
        option2 = {
                grid: {
                        left:130,
                        right: '30%',
                        height: '60%',
                        bottom: 110
                },
                title: {
                    text:'动态数据 + 时间坐标轴'
                },
                tooltip: {
                        trigger: 'axis',
                        formatter: function(params) {
                                params = params[0]
                                var date = new Date(params.name);
                                return date.getDate() + '/' + (date.getMonth() + 1)
                                    + '/' + date.getFullYear() + ":"
                                    + params.value[1];
                                ;
                        }
                },
                xAxis: {
                        type: 'time',
                        splitLine: {
                                show: false
                        }
                },
                yAxis: {
                        type: 'value',
                        boundaryGap:[0, '100%'],
                        splitLine: {
                                show: true
                        }
                },
                series: [{
                        name: '模拟数据',
                        type: 'line',
                        showSymbol: false,
                        hoverAnimation: false,
                        data: data2
                }]
        }

        myChart2.setOption(option3); 

        var myChart4 = echarts.init(document.getElementById('main4'),'light');

        myChart4.setOption(option); 
        var date = [];
                
        var data = [Math.random() * 150];
        var now = new Date();
        
        for (var i = 1; i < 500; i++) {
            addData();
        }

        function addData(shift) {
            now = [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/');
            date.push(now);
            data.push((Math.random() - 0.4) * 10 + data[data.length - 1]);

            if (shift) {
            date.shift();
            data.shift();
            }

            now = new Date(+new Date(now) + oneDay);
        }

        setInterval(function () {
            addData(true);
            myChart1.setOption({
            xAxis: {
                data: date
            },
            series: [{
                name:'成交',
                data: data
            }]
            });
        }, 500);

        window.addEventListener("resize", function () { 
            myChart1.resize();

            myChart2.resize();
            myChart3.resize();
            myChart4.resize();
        });

        var myChart3 = echarts.init(document.getElementById('main3'),'walden');
        
        myChart3.setOption({
                //backgroundColor: '#2c343c',
                textStyle: {
                        //color: 'rgba(255,255,255,0.3)'
                },
                color: ['#c23531','#2f4554', '#61a0a8', '#d48265', '#91c7ae','#749f83',  '#ca8622', '#bda29a','#6e7074', '#546570', '#c4ccd3'],
                visualMap:{
                        show: false,
                        min: 80,
                        max: 600,
                        inRange:{
                                colorLightness:[0,1]
                        }
                },
                series: [
                    {
                        name: '访问来源',
                        type: 'pie',
                        radius: '55%',
                        roseType: true,
                        label:{
                                textStyle: {
                                        color: 'rgba(255,255,255,0.3)'
                                },

                        },
                        labelLine:{
                                lineStyle:{
                                        color: 'rgba(155,100,100,0.3)'
                                }
                        },
                        itemStyle: {
                                normal:{
                                    color: '#213531'
                                },
                                shadowBlur: 20,
                                shadowOffsetX: 0,
                                shadowOffsetY: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.4)',
                                emphasis: {
                                    shadowBlur: 20,
                                    shadowColor: 'rgba(0, 0, 0, 0.8)',
                                }
                        },
                        data: [
                                {value: 235, name:'视频广告',itemStyle:{color: '#c23531'}},
                                {value: 274, name:'联盟广告'},
                                {value: 310, name:'邮件营销'},
                                {value: 335, name:'直接访问'},
                                {value: 400, name:'搜索引擎'}
                        ]
                    }
                ]

        }); 

        var myChart5 = echarts.init(document.getElementById('main5'));
        $(function(){
            $.get('data.json').done(function(data){
                myChart5.setOption({
                    title: {
                        text: '异步数据加载示例'
                    },
                    tooltip:{},
                    legend:{
                        data:['销量']
                    },
                    xAxis: {
                        data: ["衬衫","羊毛衫","裤子","高跟鞋","袜子"]
                    },
                    yAxis: {
                    },
                    series:[{
                        name: '销量',
                        type: 'bar',
                        data:[5,20,36,10,10,20]
                    }]
                });
            });
        });

        var myChart6 = echarts.init(document.getElementById('main6'));
        myChart6.setOption({
            title:{
                    text:'异步数据加载示例'
                },
            tooltip:{},
            legend:{
                data:['销量']
            },
            xAxis:{
                data:[]
            },
            yAxis:{},
            series:[{
                name:'销量',
                type: 'bar',
                data:[]
            }]
        });
        myChart6.showLoading();
        $.get('data.json').done(function(data){
            myChart6.hideLoading();
            myChart6.setOption({
                xAxis:{
                    data:data.categories
                },
                series:[{
                    name: '销量',
                    data:data.data
                }]
            });
        });
        data7 = [10,12,13,14];
        var myChart7 = echarts.init(document.getElementById('main7'));
        myChart7.setOption({
            xAxis:{
                data: [1,2,3,4]
            },
            yAxis:{},
            series:[{
                name:'成交',
                type:'bar',
                data:data
            }]
        });

        setInterval(function(){
            data7.push((Math.random() - 0.4) * 10 + data7[data7.length - 1]);
            data7.shift();
            myChart7.setOption({
                series:[{
                        data:data7
                }]
            });
        },2000);

        var myChart8 = echarts.init(document.getElementById('main8'));
        myChart8.setOption({
                legend:{},
                tooltip:{},
                dataset:{
                        source:[
                            ['product', '2012', '2013', '2014', '2015'],
                            ['Matcha Latte', 41.1, 30.4, 65.1, 53.3],
                            ['Milk Tea', 86.5, 92.1, 85.7, 83.1],
                            ['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4]
                        ]
                },
                grid:[
                        {bottom:'55%'},
                        {top:'55%'},
                ],
                xAxis:[
                    {type:'category', gridIndex:0},
                    {type:'category', gridIndex:1},
                ],
                yAxis:[
                    {gridIndex:0},
                    {gridIndex:1},
                ],
                series:[
                        {type: 'bar', seriesLayoutBy: 'row'},
                        {type: 'bar', seriesLayoutBy: 'row'},
                        {type: 'bar', seriesLayoutBy: 'row'},
                        {type:'bar', xAxisIndex:1, yAxisIndex:1},
                        {type:'bar', xAxisIndex:1, yAxisIndex:1},
                        {type:'bar', xAxisIndex:1, yAxisIndex:1},
                        {type:'bar', xAxisIndex:1, yAxisIndex:1},
                ]
        });


    </script>
  </body>
</html>

